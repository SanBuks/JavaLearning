<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>监视简写</title>
</head>
<script type="text/javascript" src="../js/vue.js"></script>
<body>

<div id="container">
  <h1>今天天气很{{info}}</h1>
  <button @click="isHot = !isHot">改变天气</button>
</div>
</body>

<script type="text/javascript">

  // 被 vue 管理的函数对象
  // computed 中 get(), set() 被管理
  // watch 中被管理
  // methods 中被管理
  let vm = new Vue({
    el: '#container',
    data: {
      isHot: true,
    },
    methods: {
      changeWeather() {
        this.isHot = !this.isHot
      }
    },
    computed: {
      info() {
        return this.isHot ? '热' : '凉'
      }
    },
    watch: {
      // 简写形式: 前提以下配置项不需配置
      // deep: true,
      // immediate: true,
      isHot(newValue, oldValue) {
        console.log("isHot 被修改了", newValue, oldValue)
      }
      // 复杂形式:
      // isHot: {
      //   handler(newValue, oldValue) {
      //     console.log("isHot 被修改了", newValue, oldValue)
      //   }
      // },
    }
  })

  // watch 的第二种简写形式
  vm.$watch('isHot', function(newValue, oldValue){
    console.log("isHot 被修改了", newValue, oldValue)
  })

</script>
</html>
